<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL"
             xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
             xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
             xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
             id="Definitions_1"
             targetNamespace="http://example.org/bpmn">

  <!-- Collaboration with 2 pools -->
  <collaboration id="Collaboration_1">
    <participant id="Participant_Customer" name="Customer" processRef="Process_Customer"/>
    <participant id="Participant_Provider" name="Service Provider" processRef="Process_Provider"/>
    <messageFlow id="MessageFlow_1" sourceRef="Task_Request" targetRef="Task_Receive"/>
    <messageFlow id="MessageFlow_2" sourceRef="Task_Respond" targetRef="Task_GetResponse"/>
  </collaboration>

  <!-- Customer Process -->
  <process id="Process_Customer" name="Customer Process" isExecutable="false">
    <startEvent id="StartEvent_1" name="Start">
      <outgoing>Flow_1</outgoing>
    </startEvent>
    <task id="Task_Request" name="Send Request">
      <incoming>Flow_1</incoming>
      <outgoing>Flow_2</outgoing>
    </task>
    <task id="Task_GetResponse" name="Receive Response">
      <incoming>Flow_2</incoming>
      <outgoing>Flow_3</outgoing>
    </task>
    <endEvent id="EndEvent_1" name="End">
      <incoming>Flow_3</incoming>
    </endEvent>
    <sequenceFlow id="Flow_1" sourceRef="StartEvent_1" targetRef="Task_Request"/>
    <sequenceFlow id="Flow_2" sourceRef="Task_Request" targetRef="Task_GetResponse"/>
    <sequenceFlow id="Flow_3" sourceRef="Task_GetResponse" targetRef="EndEvent_1"/>
  </process>

  <!-- Service Provider Process -->
  <process id="Process_Provider" name="Provider Process" isExecutable="false">
    <startEvent id="StartEvent_2" name="Start">
      <outgoing>Flow_4</outgoing>
    </startEvent>
    <task id="Task_Receive" name="Receive Request">
      <incoming>Flow_4</incoming>
      <outgoing>Flow_5</outgoing>
    </task>
    <task id="Task_Process" name="Process Request">
      <incoming>Flow_5</incoming>
      <outgoing>Flow_6</outgoing>
    </task>
    <task id="Task_Respond" name="Send Response">
      <incoming>Flow_6</incoming>
      <outgoing>Flow_7</outgoing>
    </task>
    <endEvent id="EndEvent_2" name="End">
      <incoming>Flow_7</incoming>
    </endEvent>
    <sequenceFlow id="Flow_4" sourceRef="StartEvent_2" targetRef="Task_Receive"/>
    <sequenceFlow id="Flow_5" sourceRef="Task_Receive" targetRef="Task_Process"/>
    <sequenceFlow id="Flow_6" sourceRef="Task_Process" targetRef="Task_Respond"/>
    <sequenceFlow id="Flow_7" sourceRef="Task_Respond" targetRef="EndEvent_2"/>
  </process>

  <!-- Diagram Interchange (complete visual layout) -->
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_1">

      <!-- Customer Pool -->
      <bpmndi:BPMNShape id="Participant_Customer_di" bpmnElement="Participant_Customer" isHorizontal="true">
        <dc:Bounds x="100" y="50" width="700" height="200"/>
      </bpmndi:BPMNShape>

      <!-- Customer Process Elements -->
      <bpmndi:BPMNShape id="StartEvent_1_di" bpmnElement="StartEvent_1">
        <dc:Bounds x="180" y="130" width="36" height="36"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="186" y="173" width="25" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNShape id="Task_Request_di" bpmnElement="Task_Request">
        <dc:Bounds x="270" y="108" width="100" height="80"/>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNShape id="Task_GetResponse_di" bpmnElement="Task_GetResponse">
        <dc:Bounds x="430" y="108" width="100" height="80"/>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNShape id="EndEvent_1_di" bpmnElement="EndEvent_1">
        <dc:Bounds x="590" y="130" width="36" height="36"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="598" y="173" width="20" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>

      <!-- Customer Sequence Flows -->
      <bpmndi:BPMNEdge id="Flow_1_di" bpmnElement="Flow_1">
        <di:waypoint x="216" y="148"/>
        <di:waypoint x="270" y="148"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="Flow_2_di" bpmnElement="Flow_2">
        <di:waypoint x="370" y="148"/>
        <di:waypoint x="430" y="148"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="Flow_3_di" bpmnElement="Flow_3">
        <di:waypoint x="530" y="148"/>
        <di:waypoint x="590" y="148"/>
      </bpmndi:BPMNEdge>

      <!-- Provider Pool -->
      <bpmndi:BPMNShape id="Participant_Provider_di" bpmnElement="Participant_Provider" isHorizontal="true">
        <dc:Bounds x="100" y="300" width="700" height="250"/>
      </bpmndi:BPMNShape>

      <!-- Provider Process Elements -->
      <bpmndi:BPMNShape id="StartEvent_2_di" bpmnElement="StartEvent_2">
        <dc:Bounds x="180" y="407" width="36" height="36"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="186" y="450" width="25" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNShape id="Task_Receive_di" bpmnElement="Task_Receive">
        <dc:Bounds x="270" y="385" width="100" height="80"/>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNShape id="Task_Process_di" bpmnElement="Task_Process">
        <dc:Bounds x="430" y="385" width="100" height="80"/>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNShape id="Task_Respond_di" bpmnElement="Task_Respond">
        <dc:Bounds x="590" y="385" width="100" height="80"/>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNShape id="EndEvent_2_di" bpmnElement="EndEvent_2">
        <dc:Bounds x="740" y="407" width="36" height="36"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="748" y="450" width="20" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>

      <!-- Provider Sequence Flows -->
      <bpmndi:BPMNEdge id="Flow_4_di" bpmnElement="Flow_4">
        <di:waypoint x="216" y="425"/>
        <di:waypoint x="270" y="425"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="Flow_5_di" bpmnElement="Flow_5">
        <di:waypoint x="370" y="425"/>
        <di:waypoint x="430" y="425"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="Flow_6_di" bpmnElement="Flow_6">
        <di:waypoint x="530" y="425"/>
        <di:waypoint x="590" y="425"/>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="Flow_7_di" bpmnElement="Flow_7">
        <di:waypoint x="690" y="425"/>
        <di:waypoint x="740" y="425"/>
      </bpmndi:BPMNEdge>

      <!-- Message Flows -->
      <bpmndi:BPMNEdge id="MessageFlow_1_di" bpmnElement="MessageFlow_1">
        <di:waypoint x="320" y="188"/>
        <di:waypoint x="320" y="385"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="280" y="280" width="80" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>

      <bpmndi:BPMNEdge id="MessageFlow_2_di" bpmnElement="MessageFlow_2">
        <di:waypoint x="640" y="385"/>
        <di:waypoint x="480" y="188"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds x="520" y="280" width="80" height="14"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>

    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>

</definitions>
